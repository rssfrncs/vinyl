{"version":3,"sources":["components/Vinyl.tsx","index.tsx"],"names":["Vinyl","onClick","name","url","active","scale","scaleLinear","range","domain","useSpring","r","x","s","set","React","bind","useDrag","movement","down","Math","max","axis","css","div","style","transform","interpolate","theme","radius","dark","dark2","light","light2","paddingHorizontal","paddingVertical","Main","data","setActive","map","key","console","log","render","document","getElementById"],"mappings":"ikCAMO,SAASA,EAAT,GAUH,IATFC,EASC,EATDA,QACAC,EAQC,EARDA,KACAC,EAOC,EAPDA,IACAC,EAMC,EANDA,OAQMC,EAAQC,cACXC,MAAM,CAAC,EAAG,MACVC,OAAO,CAAC,EAHG,MADb,EAQ0BC,aAAU,iBAAO,CAC1CC,EAAGN,EAAS,GAAK,EACjBO,EAAGP,GAAU,KAAe,GAC5BQ,EAAGR,GAAU,EAAI,MAXlB,0BAQQM,EARR,EAQQA,EAAGC,EARX,EAQWA,EAAGC,EARd,EAQcA,EAAKC,EARnB,KAaDC,aACE,WACOD,EAAI,CACPH,EAAGN,EAAS,GAAK,EACjBO,EAAGP,GAAU,KAAe,GAC5BQ,EAAGR,GAAU,EAAI,MAErB,CAACA,EAAQS,IAEX,IAAME,EAAOC,aACX,YAA8B,IAAhBL,EAAe,cAA1BM,SAA0B,MAAXC,EAAW,EAAXA,MACXd,GAAUO,IAAM,KACnBV,EAAQC,GAEVW,EAAI,CACFH,EAAGQ,EAAOb,EAAMM,GAAKP,EAAS,GAAK,EACnCO,EAAGO,EAAOC,KAAKC,KAAK,IAAaT,GAAKP,GAAU,KAAe,OAGnE,CACEiB,KAAM,MAGV,OACE,+BACEpB,QAAS,WAAWA,EAAQC,IAC5BoB,IAAKA,YAAF,SAtCO,IAsCP,aAtCO,IAsCP,0BAKCP,KAEJ,YAAC,IAASQ,IAAV,CACED,IAAG,EAMHE,MAAO,CAAEC,UAAWf,EAAEgB,aAAY,SAAAhB,GAAC,uBAAcA,EAAd,YAEnC,mBACEY,IAAG,GAWH,mBACEA,IAAG,IAYL,mBACEA,IAAG,IAYL,mBACEA,IAAG,IAYL,mBACEA,IAAKA,YAAF,yKAUuBnB,EAVvB,uCAgBT,YAAC,IAASoB,IAAV,CACED,IAAKA,YAAF,oHAQuBnB,EARvB,6DAaHqB,MAAO,CACLC,UAAWC,YACT,CAACf,EAAGC,IACJ,SAACD,EAAGC,GAAJ,2CAAwCA,EAAxC,2BAA4DD,EAA5D,cCrJZ,IAAMgB,EAAQ,CACZC,OAAQ,MACRC,KAAM,UACNC,MAAO,UACPC,MAAO,OACPC,OAAQ,UACRC,kBAAmB,OACnBC,gBAAiB,Q,wMAWnB,SAASC,IACP,IAAMC,EAAO,CACX,6HACA,6HACA,mIACA,sGACA,uFANY,EAQctB,WAAesB,EAAK,IARlC,mBAQPhC,EARO,KAQCiC,EARD,KASd,OACE,mBACEf,IAAG,GAWFc,EAAKE,KAAI,SAAAnC,GAAG,OACX,YAAC,WAAD,CAAgBoC,IAAKpC,GACnB,YAACH,EAAD,CACEC,QAAS,SAAAC,GACPsC,QAAQC,IAAI,QAASvC,GACrBmC,EAAUnC,IAEZA,KAAMC,EACNC,OAAQA,IAAWD,EACnBA,IAAKA,IACJ,IACH,mBACEmB,IAAG,SAUfoB,iBAAO,aApDP,WACE,OACE,YAAC,IAAD,CAAef,MAAOA,GACpB,YAACQ,EAAD,SAiDC,MAASQ,SAASC,eAAe,W","file":"static/js/main.100896ef.chunk.js","sourcesContent":["import * as React from \"react\";\nimport { useDrag } from \"react-use-gesture\";\nimport { animated, useSpring, interpolate } from \"react-spring\";\nimport { scaleLinear } from \"d3-scale\";\nimport { css } from \"@emotion/core\";\n\nexport function Vinyl({\n  onClick,\n  name,\n  url,\n  active\n}: {\n  onClick(name: string): void;\n  name: string;\n  url: string;\n  active?: boolean;\n}) {\n  const width = 200;\n  const scale = scaleLinear()\n    .range([0, 360])\n    .domain([0, width]);\n  // const scaleVis = scaleLinear()\n  //   .range([1, 0])\n  //   .domain([0, 100]);\n  const [{ r, x, s }, set] = useSpring(() => ({\n    r: active ? 45 : 0,\n    x: active ? -(width / 2) : -10,\n    s: active ? -5 : 0\n  }));\n  React.useEffect(\n    () =>\n      void set({\n        r: active ? 45 : 0,\n        x: active ? -(width / 2) : -10,\n        s: active ? -5 : 0\n      }),\n    [active, set]\n  );\n  const bind = useDrag(\n    ({ movement: [x], down }) => {\n      if (!active && x <= -(width / 2)) {\n        onClick(name);\n      }\n      set({\n        r: down ? scale(x) : active ? 45 : 0,\n        x: down ? Math.max(-(width / 2), x) : active ? -(width / 2) : -10\n      });\n    },\n    {\n      axis: \"x\"\n    }\n  );\n  return (\n    <div\n      onClick={() => void onClick(name)}\n      css={css`\n        width: ${width}px;\n        height: ${width}px;\n        position: relative;\n      `}\n      {...bind()}\n    >\n      <animated.div\n        css={css`\n          width: 100%;\n          height: 100%;\n          transform-origin: 50% 50%;\n          z-index: 1;\n        `}\n        style={{ transform: r.interpolate(r => `rotate(${r}deg`) }}\n      >\n        <div\n          css={css`\n            margin: 5px;\n            width: calc(100% - 10px);\n            height: calc(100% - 10px);\n            position: absolute;\n            top: 0;\n            left: 0;\n            border-radius: 100%;\n            background: #212121;\n          `}\n        >\n          <div\n            css={css`\n              margin: 10px;\n              width: calc(100% - 20px);\n              height: calc(100% - 20px);\n              position: absolute;\n              top: 0;\n              left: 0;\n              border-radius: 100%;\n              background: transparent;\n              border: 1px solid rgba(255, 255, 255, 0.2);\n            `}\n          />\n          <div\n            css={css`\n              margin: 20px;\n              width: calc(100% - 40px);\n              height: calc(100% - 40px);\n              position: absolute;\n              top: 0;\n              left: 0;\n              border-radius: 100%;\n              background: transparent;\n              border: 1px solid rgba(255, 255, 255, 0.2);\n            `}\n          />\n          <div\n            css={css`\n              margin: 30px;\n              width: calc(100% - 60px);\n              height: calc(100% - 60px);\n              position: absolute;\n              top: 0;\n              left: 0;\n              border-radius: 100%;\n              background: transparent;\n              border: 1px solid rgba(255, 255, 255, 0.2);\n            `}\n          />\n          <div\n            css={css`\n              width: 50%;\n              height: 50%;\n              position: absolute;\n              top: 50%;\n              left: 50%;\n              transform: translate(-50%, -50%);\n              border-radius: 100%;\n              background: white;\n              background-size: cover;\n              background-image: url(${url});\n              box-shadow: 0 0 1px 1px black;\n            `}\n          />\n        </div>\n      </animated.div>\n      <animated.div\n        css={css`\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: #bbb;\n          background-size: cover;\n          background-image: url(${url});\n          box-shadow: 0 0 1px 0 black;\n          border-radius: 1px;\n          z-index: 2;\n        `}\n        style={{\n          transform: interpolate(\n            [x, s],\n            (x, s) => `perspective(200px) rotateY(${s}deg) translateX(${x}px)`\n          )\n        }}\n      />\n    </div>\n  );\n}\n","import { css } from \"@emotion/core\";\nimport { ThemeProvider } from \"emotion-theming\";\nimport \"./index.css\";\nimport * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { Vinyl } from \"./components/Vinyl\";\n\nconst theme = {\n  radius: \"2px\",\n  dark: \"#313131\",\n  dark2: \"#414141\",\n  light: \"#fff\",\n  light2: \"#bababa\",\n  paddingHorizontal: \"20px\",\n  paddingVertical: \"10px\"\n};\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <Main />\n    </ThemeProvider>\n  );\n}\n\nfunction Main() {\n  const data = [\n    \"https://www.billboard.com/files/styles/900_wide/public/media/Miles-Davis-Bitches-Brew-album-covers-billboard-1000x1000.jpg\",\n    \"https://media.architecturaldigest.com/photos/5890e88033bd1de9129eab0a/master/pass/Artist-Designed%20Album%20Covers%202.jpg\",\n    \"https://www.billboard.com/files/styles/900_wide/public/media/Joy-Division-Unknown-Pleasures-album-covers-billboard-1000x1000.jpg\",\n    \"https://images.complex.com/images/fl_lossy,q_auto/hkcs9pgcxaubh9e9sc4c/tyler-the-creator-igor-cover\",\n    \"https://www.digitalartsonline.co.uk/cmsdata/slideshow/3776245/beck_-_hyperspace.jpg\"\n  ];\n  const [active, setActive] = React.useState(data[0]);\n  return (\n    <div\n      css={css`\n        padding: 10px;\n        width: 100%;\n        height: 100%;\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-start;\n      `}\n    >\n      {data.map(url => (\n        <React.Fragment key={url}>\n          <Vinyl\n            onClick={name => {\n              console.log(\"click\", name);\n              setActive(name);\n            }}\n            name={url}\n            active={active === url}\n            url={url}\n          />{\" \"}\n          <div\n            css={css`\n              flex: 0 0 10px;\n            `}\n          />\n        </React.Fragment>\n      ))}\n    </div>\n  );\n}\n\nrender(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}