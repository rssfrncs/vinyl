{"version":3,"sources":["components/Vinyl.tsx","index.tsx"],"names":["Vinyl","onClick","name","url","active","scale","scaleLinear","range","domain","useSpring","r","x","s","set","React","bind","useDrag","movement","down","console","log","Math","max","axis","css","div","style","transform","interpolate","theme","radius","dark","dark2","light","light2","paddingHorizontal","paddingVertical","Main","data","setActive","map","key","render","document","getElementById"],"mappings":"mkCAMO,SAASA,EAAT,GAUH,IATFC,EASC,EATDA,QACAC,EAQC,EARDA,KACAC,EAOC,EAPDA,IACAC,EAMC,EANDA,OASMC,EAAQC,cACXC,MAAM,CAAC,EAAG,MACVC,OAAO,CAAC,EAHG,MAFb,EAQ0BC,aAAU,iBAAO,CAC1CC,EAAGN,EAHkB,GAGQ,EAC7BO,EAAGP,GAAU,KATK,GAUlBQ,EAAGR,GAJW,EAIQ,MAXvB,0BAQQM,EARR,EAQQA,EAAGC,EARX,EAQWA,EAAGC,EARd,EAQcA,EAAKC,EARnB,KAaDC,aACE,WACOD,EAAI,CACPH,EAAGN,EAVc,GAUY,EAC7BO,EAAGP,GAAU,KAhBC,GAiBdQ,EAAGR,GAXO,EAWY,MAE1B,CAACA,EAAQS,IAEX,IAAME,EAAOC,aACX,YAA8B,IAAhBL,EAAe,cAA1BM,SAA0B,MAAXC,EAAW,EAAXA,KAChBC,QAAQC,IAAIT,IACPP,GAAUO,IAAM,IACnBV,EAAQC,GACCE,GAAUO,GAAK,IACxBV,EAAQC,GAEVW,EAAI,CACFH,EAAGQ,EAAOb,EAAMM,GAAKP,EAzBJ,GAyB8B,EAC/CO,EAAGO,EACCG,KAAKC,KAAK,IAAaX,GACvBP,GACC,IAlCS,OAsClB,CACEmB,KAAM,MAGV,OACE,+BACEtB,QAAS,WAAWA,EAAQC,IAC5BsB,IAAKA,YAAF,SA5CO,IA4CP,aA5CO,IA4CP,0BAKCT,KAEJ,YAAC,IAASU,IAAV,CACED,IAAG,EAMHE,MAAO,CAAEC,UAAWjB,EAAEkB,aAAY,SAAAlB,GAAC,uBAAcA,EAAd,YAEnC,mBACEc,IAAG,GAWH,mBACEA,IAAG,IAYL,mBACEA,IAAG,IAYL,mBACEA,IAAG,IAYL,mBACEA,IAAKA,YAAF,yKAUuBrB,EAVvB,uCAgBT,YAAC,IAASsB,IAAV,CACED,IAAKA,YAAF,oHAQuBrB,EARvB,6DAaHuB,MAAO,CACLC,UAAWC,YACT,CAACjB,EAAGC,IACJ,SAACD,EAAGC,GAAJ,2CAAwCA,EAAxC,2BAA4DD,EAA5D,cC5JZ,IAAMkB,EAAQ,CACZC,OAAQ,MACRC,KAAM,UACNC,MAAO,UACPC,MAAO,OACPC,OAAQ,UACRC,kBAAmB,OACnBC,gBAAiB,Q,wMAWnB,SAASC,IACP,IAAMC,EAAO,CACX,6HACA,6HACA,mIACA,sGACA,uFANY,EAQcxB,WAAewB,EAAK,IARlC,mBAQPlC,EARO,KAQCmC,EARD,KASd,OACE,mBACEf,IAAG,GAWFc,EAAKE,KAAI,SAAArC,GAAG,OACX,YAAC,WAAD,CAAgBsC,IAAKtC,GACnB,YAACH,EAAD,CACEC,QAAS,SAAAC,GACPiB,QAAQC,IAAI,QAASlB,GACrBqC,EAAUrC,IAEZA,KAAMC,EACNC,OAAQA,IAAWD,EACnBA,IAAKA,IACJ,IACH,mBACEqB,IAAG,SAUfkB,iBAAO,aApDP,WACE,OACE,YAAC,IAAD,CAAeb,MAAOA,GACpB,YAACQ,EAAD,SAiDC,MAASM,SAASC,eAAe,W","file":"static/js/main.b0ec370c.chunk.js","sourcesContent":["import * as React from \"react\";\nimport { useDrag } from \"react-use-gesture\";\nimport { animated, useSpring, interpolate, config } from \"react-spring\";\nimport { scaleLinear } from \"d3-scale\";\nimport { css } from \"@emotion/core\";\n\nexport function Vinyl({\n  onClick,\n  name,\n  url,\n  active\n}: {\n  onClick(name: string): void;\n  name: string;\n  url: string;\n  active?: boolean;\n}) {\n  const vinylOffset = 10;\n  const width = 200;\n  const scale = scaleLinear()\n    .range([0, 360])\n    .domain([0, width]);\n  const activeXDegrees = 45;\n  const activeY = -5;\n  const [{ r, x, s }, set] = useSpring(() => ({\n    r: active ? activeXDegrees : 0,\n    x: active ? -(width / 2) : -vinylOffset,\n    s: active ? activeY : 0\n  }));\n  React.useEffect(\n    () =>\n      void set({\n        r: active ? activeXDegrees : 0,\n        x: active ? -(width / 2) : -vinylOffset,\n        s: active ? activeY : 0\n      }),\n    [active, set]\n  );\n  const bind = useDrag(\n    ({ movement: [x], down }) => {\n      console.log(x);\n      if (!active && x <= -(width / 2)) {\n        onClick(name);\n      } else if (active && x >= 50) {\n        onClick(name);\n      }\n      set({\n        r: down ? scale(x) : active ? activeXDegrees : 0,\n        x: down\n          ? Math.max(-(width / 2), x)\n          : active\n          ? -(width / 2)\n          : vinylOffset\n      });\n    },\n    {\n      axis: \"x\"\n    }\n  );\n  return (\n    <div\n      onClick={() => void onClick(name)}\n      css={css`\n        width: ${width}px;\n        height: ${width}px;\n        position: relative;\n      `}\n      {...bind()}\n    >\n      <animated.div\n        css={css`\n          width: 100%;\n          height: 100%;\n          transform-origin: 50% 50%;\n          z-index: 1;\n        `}\n        style={{ transform: r.interpolate(r => `rotate(${r}deg`) }}\n      >\n        <div\n          css={css`\n            margin: 10px;\n            width: calc(100% - 20px);\n            height: calc(100% - 20px);\n            position: absolute;\n            top: 0;\n            left: 0;\n            border-radius: 100%;\n            background: #212121;\n          `}\n        >\n          <div\n            css={css`\n              margin: 10px;\n              width: calc(100% - 20px);\n              height: calc(100% - 20px);\n              position: absolute;\n              top: 0;\n              left: 0;\n              border-radius: 100%;\n              background: transparent;\n              border: 1px solid rgba(255, 255, 255, 0.2);\n            `}\n          />\n          <div\n            css={css`\n              margin: 20px;\n              width: calc(100% - 40px);\n              height: calc(100% - 40px);\n              position: absolute;\n              top: 0;\n              left: 0;\n              border-radius: 100%;\n              background: transparent;\n              border: 1px solid rgba(255, 255, 255, 0.2);\n            `}\n          />\n          <div\n            css={css`\n              margin: 30px;\n              width: calc(100% - 60px);\n              height: calc(100% - 60px);\n              position: absolute;\n              top: 0;\n              left: 0;\n              border-radius: 100%;\n              background: transparent;\n              border: 1px solid rgba(255, 255, 255, 0.2);\n            `}\n          />\n          <div\n            css={css`\n              width: 50%;\n              height: 50%;\n              position: absolute;\n              top: 50%;\n              left: 50%;\n              transform: translate(-50%, -50%);\n              border-radius: 100%;\n              background: white;\n              background-size: cover;\n              background-image: url(${url});\n              box-shadow: 0 0 1px 1px black;\n            `}\n          />\n        </div>\n      </animated.div>\n      <animated.div\n        css={css`\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: #bbb;\n          background-size: cover;\n          background-image: url(${url});\n          box-shadow: 0 0 1px 0 black;\n          border-radius: 1px;\n          z-index: 2;\n        `}\n        style={{\n          transform: interpolate(\n            [x, s],\n            (x, s) => `perspective(200px) rotateY(${s}deg) translateX(${x}px)`\n          )\n        }}\n      />\n    </div>\n  );\n}\n","import { css } from \"@emotion/core\";\nimport { ThemeProvider } from \"emotion-theming\";\nimport \"./index.css\";\nimport * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { Vinyl } from \"./components/Vinyl\";\n\nconst theme = {\n  radius: \"2px\",\n  dark: \"#313131\",\n  dark2: \"#414141\",\n  light: \"#fff\",\n  light2: \"#bababa\",\n  paddingHorizontal: \"20px\",\n  paddingVertical: \"10px\"\n};\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <Main />\n    </ThemeProvider>\n  );\n}\n\nfunction Main() {\n  const data = [\n    \"https://www.billboard.com/files/styles/900_wide/public/media/Miles-Davis-Bitches-Brew-album-covers-billboard-1000x1000.jpg\",\n    \"https://media.architecturaldigest.com/photos/5890e88033bd1de9129eab0a/master/pass/Artist-Designed%20Album%20Covers%202.jpg\",\n    \"https://www.billboard.com/files/styles/900_wide/public/media/Joy-Division-Unknown-Pleasures-album-covers-billboard-1000x1000.jpg\",\n    \"https://images.complex.com/images/fl_lossy,q_auto/hkcs9pgcxaubh9e9sc4c/tyler-the-creator-igor-cover\",\n    \"https://www.digitalartsonline.co.uk/cmsdata/slideshow/3776245/beck_-_hyperspace.jpg\"\n  ];\n  const [active, setActive] = React.useState(data[0]);\n  return (\n    <div\n      css={css`\n        padding: 10px;\n        width: 100%;\n        height: 100%;\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-start;\n      `}\n    >\n      {data.map(url => (\n        <React.Fragment key={url}>\n          <Vinyl\n            onClick={name => {\n              console.log(\"click\", name);\n              setActive(name);\n            }}\n            name={url}\n            active={active === url}\n            url={url}\n          />{\" \"}\n          <div\n            css={css`\n              flex: 0 0 10px;\n            `}\n          />\n        </React.Fragment>\n      ))}\n    </div>\n  );\n}\n\nrender(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}